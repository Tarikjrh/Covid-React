import './Navbar.css'
import { useState, useEffect } from 'react';

const Navbar = () => {
    const [theme, setTheme] = useState(() => localStorage.getItem("theme"))

    useEffect(() => {
        if (theme) {
            document.querySelector("body").className = theme
        }
        else {
            //color on first visit
            setTheme("dark")
        }
        localStorage.setItem("theme", theme);
    }, [theme])


    // Button Event Handlers
    function handleClick() {
        if (theme === "dark") {
            setTheme("light")
        }
        else {
            setTheme("dark")
        }
    }

    return (
        <div className="navbar ">
            COVID-21
            <button id='bucket' onClick={handleClick}>
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.3811 8.86144C18.7092 7.58544 17.6266 6.0656 16.0655 4.50452C13.3366 1.77469 11.044 0.916687 9.84592 0.916687C9.46642 0.916687 9.19692 1.00285 9.05758 1.14219L7.81 2.38885C6.06925 2.17252 4.675 2.48602 3.87383 3.28994C3.07083 4.09202 2.80683 5.26902 3.14783 6.51935C3.59883 8.17485 5.26075 10.2309 8.56075 11.4464C8.59558 11.7425 8.70467 12.0313 8.932 12.2577C9.471 12.7967 10.3391 12.7949 10.8763 12.2577C11.4134 11.7205 11.4152 10.8524 10.8781 10.3153C10.3391 9.77719 9.46917 9.77627 8.932 10.3144L8.77617 10.549C6.91442 9.84777 5.66408 8.87335 4.89683 7.89069L8.45258 4.3386C8.90725 6.8411 14.3486 12.2916 16.8658 12.7518L10.3437 19.2665C10.1292 19.4068 7.77883 18.9769 4.70067 15.8978C1.59042 12.7875 1.79025 11.066 1.92592 10.8579L3.63 9.1566C3.22758 8.82752 2.78208 8.14552 2.58408 7.60835L0.627917 9.56177C0.22 9.9706 0 10.5371 0 11.2301C0 12.7279 1.02758 14.8189 3.40358 17.1939C5.93725 19.7276 8.51858 21.0834 10.2163 21.0834C10.8103 21.0834 11.2979 20.9046 11.6343 20.5682L19.0465 13.1634C19.8807 13.9645 18.3333 16.4065 18.3333 17.424C18.3333 18.436 19.1547 19.2564 20.1667 19.2564C21.1796 19.2564 22 18.4351 22 17.4231C22 14.5044 20.6938 11.1806 19.3811 8.86144V8.86144ZM4.52283 3.93802C5.00592 3.45219 5.87125 3.21294 6.9575 3.24044L4.01592 6.17927C3.79958 5.28277 3.971 4.48802 4.52283 3.93802V3.93802ZM13.0405 7.6771L13.013 7.65052C11.8287 6.46619 9.52692 3.65752 10.175 3.00944C10.8304 2.35402 13.3723 4.40369 14.8152 5.84744C15.6053 6.6376 16.7292 7.90719 17.5074 9.01727C15.9335 8.03277 14.3073 7.67069 13.0405 7.6771V7.6771Z" fill="white" />
                </svg>
            </button>
        </div>);
}

export default Navbar;